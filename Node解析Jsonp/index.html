<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id='app'>
        {{msg}}
    </div>
    <script>
        axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'; 
        var vm = new Vue({
            el:'#app',
            data:{
                msg:'',
                count:0
            },
            methods: {
                show(){
                    axios.get('http://127.0.0.1:3000/getData')
                    .then((res)=>{
                        console.log(res)
                        this.msg = res.data
                    })
                    .catch((err) => {
                        console.log(err)
                    })   
                },
                add(){
                    console.log("add")
                    let that=this;
                   this.count++;
                    axios.post('http://127.0.0.1:3000/add',{
                        'id':'1001',
                        'name':'zll'
                    })
                    .then((res) => {
                        console.log("成功返回",that.count)
                        console.log(res.data)
                    })
                    .catch((err)=> {
                        console.log(err)
                    })
                }
            },
            created(){
            //    this.show()
              this.add()
            }    
        })
    </script>
    <!-- <script src="http://127.0.0.1:3000/getscript?callback=show"></script> -->
</body>
</html>